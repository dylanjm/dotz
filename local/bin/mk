#!/usr/bin/env bash

main() {
  until [[ -e Makefile ]] || [[ "$(pwd)" == '/' ]]; do
    cd ..
  done

  numcores=$(sysctl -n hw.ncpu)
  printf "%s\n" "Building in ""$(pwd)""..."
  make -j "${numcores}" "${@}"
}

if [[ "${BASH_SOURCE[0]}" = "${0}" ]]; then
  main "${@}"
fi

# Local Variables:
# mode: shell-script
# sh-basic-offset: 2
# End:
